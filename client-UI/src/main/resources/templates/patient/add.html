<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Ajouter un patient</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
		integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
	<link th:href="@{/css/style.css}" rel="stylesheet" />
</head>

<body>
	<div th:replace="~{fragments/header.html}" />
	<div class="content">
		<div class="container">
			<div class="card">
				<div class="card-header">
					<h2 class="text-center">Ajouter un patient</h2>
				</div>
				<div class="card-body">
					<form th:action="@{/patient/add}" th:object="${patient}" method="post">

						<div th:if="${success}" class="alert alert-success">
							<p th:text="${success}"></p>
						</div>
						<div th:if="${error}" class="alert alert-danger">
							<p th:text="${error}"></p>
						</div>

						<div class="form-group">
							<label for="firstName">Pr√©nom</label>
							<input type="text" class="form-control" id="firstName" th:field="*{firstName}" required />
							<p class="text-danger" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">
							</p>
						</div>
						<div class="form-group">
							<label for="lastName">Nom</label>
							<input type="text" class="form-control" id="lastName" th:field="*{lastName}" required />
							<p class="text-danger" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></p>
						</div>
						<div class="form-group">
							<label for="dateOfBirth">Date de naissance</label>
							<input type="text" class="form-control" id="dateOfBirth" th:field="*{dateOfBirth}"
								placeholder="Entrez votre date de naissance au format DD/MM/YYYY" required
								pattern="^(0[1-9]|[12][0-9]|3[01])[/](0[1-9]|1[012])[/](19|20)\d\d$"
								title="Veuillez entrer une date au format DD/MM/YYYY" />
							<p class="text-danger" th:if="${#fields.hasErrors('dateOfBirth')}"
								th:errors="*{dateOfBirth}">
							</p>
						</div>
						<div class="form-group">
							<label for="gender">Genre</label>
							<select class="form-control" id="gender" th:field="*{gender}" required>
								<option value="M">Homme</option>
								<option value="F">Femme</option>
							</select>
						</div>
						<div class="form-group">
							<label for="address">Adresse</label>
							<input type="text" class="form-control" id="address" th:field="*{address}" required />
							<p class="text-danger" th:if="${#fields.hasErrors('address')}" th:errors="*{address}"></p>
						</div>
						<div class="text-center">
							<button type="submit" class="btn btn-primary">Ajouter</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	<div th:replace="~{fragments/footer.html}" />

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
		integrity="sha384-LHDN/zrxr8J5jKRg2A0Tf50sU0baLT+VWF5UczrH5oK8fftkJx7tgF+7bJg4I/pJ"
		crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
		integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shCpw3r/JFwBD1jzOeKVLAf/hBtw5peRUkhJy"
		crossorigin="anonymous"></script>
</body>

</html>