<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Edit Patient</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
		integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
	<link th:href="@{/css/style.css}" rel="stylesheet" />
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-dark">
		<a class="navbar-brand m-1" href="/">Médilabo</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
			aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
	</nav>
	<div class="content">
		<div class="container">
			<div class="card">
				<div class="card-header">
					<h2 class="text-center">Modifer les informations</h2>
				</div>
				<div class="card-body">
					<form th:action="@{'/patient/update/' + ${id}}" th:object="${patient}" method="post">

						<div th:if="${success}" class="alert alert-success">
							<p th:text="${success}"></p>
						</div>
						<div th:if="${error}" class="alert alert-danger">
							<p th:text="${error}"></p>
						</div>
						<input type="hidden" th:field="*{id}" />
						<div class="form-group">
							<label for="firstName">Prénom</label>
							<input type="text" class="form-control" id="firstName" th:field="*{firstName}" required />
							<p class="text-danger" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">
							</p>
						</div>
						<div class="form-group">
							<label for="lastName">Nom</label>
							<input type="text" class="form-control" id="lastName" th:field="*{lastName}" required />
							<p class="text-danger" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></p>
						</div>
						<div class="form-group">
							<label for="dateOfBirth">Date de naissance</label>
							<input type="text" class="form-control" id="dateOfBirth" th:field="*{dateOfBirth}" required
								pattern="(0?[1-9]|[12][0-9]|3[01])/(0?[1-9]|1[0-2])/((19|20)?\d{2})"
								title="Please enter date in the format dd/mm/yyyy or d/m/yy" />
							<small id="dateOfBirthHelpBlock" class="form-text text-muted">Merci d'utiliser ce formtat
								dd/mm/yyyy</small>
							<p class="text-danger" th:if="${#fields.hasErrors('dateOfBirth')}"
								th:errors="*{dateOfBirth}">
							</p>
						</div>

						<div class="form-group">
							<label for="gender">Genre</label>
							<select class="form-control" id="gender" th:field="*{gender}" required>
								<option value="M">Homme</option>
								<option value="F">Femme</option>
							</select>
						</div>
						<div class="form-group">
							<label for="address">Adresse</label>
							<input type="text" class="form-control" id="address" th:field="*{address}" required />
							<p class="text-danger" th:if="${#fields.hasErrors('address')}" th:errors="*{address}"></p>
						</div>
						<button type="submit" class="btn btn-primary">Modifier</button>
					</form>
				</div>
			</div>
		</div>
	</div>

	<div th:replace="~{fragments/footer.html}" />

	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
		integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"
		integrity="sha384-LHDN/zrxr8J5jKRg2A0Tf50sU0baLT+VWF5UczrH5oK8fftkJx7tgF+7bJg4I/pJ"
		crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
		integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shCpw3r/JFwBD1jzOeKVLAf/hBtw5peRUkhJy"
		crossorigin="anonymous"></script>
</body>

</html>